<div class="p-10 bg-slate-50 min-h-screen flex flex-col items-center">
  <div class="max-w-6xl w-full">
    
    <div class="mb-12 flex justify-between items-center">
      <div>
        <h1 class="text-4xl font-black text-slate-900 italic tracking-tighter">Stock Intelligence</h1>
        <p class="text-[10px] font-black text-slate-400 uppercase tracking-[0.4em]">Visual Inventory Mapping</p>
      </div>
      <div class="flex gap-6">
        <div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full bg-emerald-500"></div> <span class="text-[9px] font-black uppercase text-slate-400">Stable</span></div>
        <div class="flex items-center gap-2"><div class="w-3 h-3 rounded-full bg-red-500 animate-pulse"></div> <span class="text-[9px] font-black uppercase text-slate-400">Critical</span></div>
      </div>
    </div>

    <div class="relative h-[700px] w-full bg-white rounded-[70px] shadow-2xl border border-slate-100 overflow-hidden flex items-center justify-center">
      
      <svg class="absolute inset-0 w-full h-full pointer-events-none opacity-20">
        <line x1="50%" y1="50%" x2="25%" y2="20%" stroke="black" stroke-width="2" stroke-dasharray="10"/>
        <line x1="50%" y1="50%" x2="75%" y2="15%" stroke="black" stroke-width="2" stroke-dasharray="10"/>
        <line x1="50%" y1="50%" x2="30%" y2="80%" stroke="black" stroke-width="2" stroke-dasharray="10"/>
        <line x1="50%" y1="50%" x2="80%" y2="85%" stroke="black" stroke-width="2" stroke-dasharray="10"/>
      </svg>

      <div class="relative z-10 w-44 h-44 rounded-full bg-slate-900 flex flex-col items-center justify-center shadow-2xl border-[15px] border-white group transition-all hover:scale-105">
        <div class="text-3xl mb-1">üè¶</div>
        <span class="text-white font-black text-[9px] uppercase tracking-widest text-center px-4">Central Pharmacy</span>
      </div>

      @for (node of inventoryTree(); track node.id) {
        <div [style]="node.pos" class="absolute group cursor-pointer">
          <div class="relative w-28 h-28 rounded-[35px] bg-white border border-slate-100 shadow-xl flex flex-col items-center justify-center transition-all group-hover:scale-110 group-hover:-translate-y-2">
            
            <div class="text-2xl mb-1">{{ node.icon }}</div>
            <p class="text-[10px] font-black text-slate-800 uppercase italic">{{ node.name }}</p>
            <p class="text-[9px] font-bold text-slate-400">{{ node.count }} Units</p>

            <div [class.bg-emerald-500]="node.status === 'healthy'"
                 [class.bg-red-500]="node.status === 'low'"
                 [class.animate-ping]="node.status === 'low'"
                 class="absolute -top-1 -right-1 w-4 h-4 rounded-full border-2 border-white"></div>
          </div>
        </div>
      }
    </div>
  </div>
</div>