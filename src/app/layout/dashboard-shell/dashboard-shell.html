<div class="flex flex-col h-screen bg-white dark:bg-slate-950 transition-colors">
  <app-header (menuClick)="toggleSidebar()"></app-header>

  <div class="flex flex-1 overflow-hidden">
    <app-sidebar
      [isExpanded]="isSidebarOpen()"
      [class.w-64]="isSidebarOpen()"
      [class.w-20]="!isSidebarOpen()"
      class="transition-all duration-300 ease-in-out shrink-0"
    ></app-sidebar>

    <main class="flex-1 bg-slate-50 dark:bg-slate-900/50 p-4 overflow-y-auto">
      <app-pagecontainer [loading]="isLoading()">
        <router-outlet></router-outlet>
      </app-pagecontainer>
    </main>
  </div>

  <app-sessionguard
    *ngIf="supabase.isDuplicateTab()"
    (onLogout)="handleLogout()"
    (onIgnore)="supabase.isDuplicateTab.set(false)"
  >
  </app-sessionguard>
</div>

